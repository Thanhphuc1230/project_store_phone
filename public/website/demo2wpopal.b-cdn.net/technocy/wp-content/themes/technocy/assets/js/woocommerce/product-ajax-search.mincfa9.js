!function(o){"use strict";o(document).ready(function(){var n,e,t,i,r,a;n=o(".woocommerce-product-search"),e=o(".ajax-search .woocommerce-product-search .search-field"),t=o(".ajax-search-result"),i=wp.template("ajax-live-search-template"),r=o(".input-dropdown-inner"),a=o("> .list-wrapper",r),o("body").on("click",function(){t.hide(),a.slideUp(100),r.removeClass("dd-shown")}),o(".input-dropdown-inner > a").on("click",function(e){return e.preventDefault(),r.hasClass("dd-shown")?(r.removeClass("dd-shown"),a.slideUp(100)):(r.addClass("dd-shown"),a.slideDown(100)),t.hide(),!1}),o(".input-dropdown-inner > .list-wrapper").on("click","a",function(e){e.preventDefault();var n=o(this).data("val"),e=o(this).text();o(".input-dropdown-inner > .list-wrapper").find(".current-item").removeClass("current-item"),o(this).parent().addClass("current-item"),0!=n?a.find("ul:not(.children) > li:first-child").show():0==n&&a.find("ul:not(.children) > li:first-child").hide(),o(".input-dropdown-inner > a span").text(e),o(".input-dropdown-inner > select").val(n).trigger("cat_selected"),a.slideUp(100),r.removeClass("dd-shown")}),o(".input-dropdown-inner > select").change(function(){var e=o(this).val(),n=o(this).find("option:selected").text();o(".input-dropdown-inner > .list-wrapper").find(".current-item").removeClass("current-item"),o(this).parent().addClass("current-item"),0!=e?a.find("ul:not(.children) > li:first-child").show():0==e&&a.find("ul:not(.children) > li:first-child").hide(),o(".input-dropdown-inner > a span").text(n)}),e.length&&e.keyup(function(){var e;2<this.value.length?(e=o('select[name="product_cat"]',n).val(),o.ajax({url:technocyAjax.ajaxurl,type:"post",data:{action:"technocy_ajax_search_products",query:this.value,product_cat:e},beforeSend:function(){n.addClass("loading")},success:function(e){n.removeClass("loading");e=o.parseJSON(e);t.empty(),t.show(),o.each(e,function(e,n){t.append(i({url:n.url,title:n.value,img:n.img,price:n.price}))})}})):t.hide()}).on("click",function(e){e.stopPropagation()}).on("focus",function(e){a.slideUp(100),r.removeClass("dd-shown"),2<this.value.length&&t.show()})})}(jQuery);